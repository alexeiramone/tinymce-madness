<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Teste 001</title>
	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
	<script src="tinymce/js/tinymce/tinymce.min.js" type="text/javascript"></script>
	<!-- <script src="//tinymce.cachefly.net/4.1/tinymce.min.js"></script> -->
</head>
<body>
	<h1>Teste TinyMCE 4.1.9 jQuery</h1>

<script type="text/javascript">
function CustomFileBrowser(field_name, url, type, win) {
    
    var cmsURL = '/admin/filebrowser/browse/?pop=2';
    cmsURL = cmsURL + '&type=' + type;
    
    tinymce.activeEditor.windowManager.open({
        file: cmsURL,
        width: 980,  // Your dimensions may differ - toy around with them!
        height: 500,
        resizable: 'yes',
        scrollbars: 'yes',
        inline: 'no',  // This parameter only has an effect if you use the inlinepopups plugin!
        close_previous: 'no'
    }, {
        window: win,
        input: field_name,
        editor_id: tinymce.selectedInstance.editorId
    });
    return false;
}

tinymce.init({
    // see http://www.tinymce.com/wiki.php/Configuration
    
    // Init
    mode: 'textareas',
    // theme: 'advanced',
    // skin: 'grappelli',
    
    // General
    accessibility_warnings: false,
    browsers: 'gecko,msie,safari,opera',
    dialog_type: 'window',
    editor_deselector: 'mceNoEditor',
    keep_styles: false,
    language: 'pt_BR',
    object_resizing: false,
    plugins: 'advlist autosave charmap code contextmenu hr image link lists media noneditable paste preview searchreplace table template visualblocks visualchars',
    tools: 'inserttable visualchars',
    contextmenu: "link image inserttable | cell row column deletetable | mycustomblock",
    // image
    image_list: [ 
        {title: 'My image 1', value: 'http://www.tinymce.com/my1.gif'}, 
        {title: 'My image 2', value: 'http://www.moxiecode.com/my2.gif'} 
    ],
    image_advtab: true,
    image_class_list: [
        {title: 'None', value: ''},
        {title: 'Dog', value: 'dog'},
        {title: 'Cat', value: 'cat'}
    ],
    // Link
    link_list: [
        {title: 'My page 1', value: 'http://www.tinymce.com'},
        {title: 'My page 2', value: 'http://www.moxiecode.com'}
    ],
    // media
    media_alt_source: false,
    media_poster: true, // default true
    media_dimensions: true, // default true

    // noneditable
    noneditable_noneditable_class: 'noneditable',

    // paste
    paste_as_text: true,
    paste_word_valid_elements: 'b,strong,i,em,h2',

    // table
    table_class_list: [
        {title: 'None', value: ''},
        {title: 'Dog', value: 'dog'},
        {title: 'Cat', value: 'cat'}
    ],
    visual: true,

    // cache_suffix: "?v=4.1.6",

    extended_valid_elements : 'mycustomblock[id],mycustominline',
    custom_elements : 'mycustomblock,~mycustominline', // Notice the ~ prefix to force a span element for the element

    // Callbacks
    file_browser_callback: 'CustomFileBrowser',
    
    // Cleanup/Output
    element_format: 'html',
    entity_encoding: 'named', 
    fix_list_elements: true,
    forced_root_block: 'p',
    block_formats: "Paragraph=p;Header 2=h2;Header 3=h3",
    // style formsts overrides theme_advanced_styles
    // see http://www.tinymce.com/wiki.php/Configuration:style_formats
    style_formats: [
        {title: 'Paragraph Small', block : 'p', classes: 'p_small'},
        {title: 'Paragraph ImageCaption', block : 'p', classes: 'p_caption'},
        {title: 'Clearfix', block : 'p', classes: 'clearfix'},
        {title: 'Code', block : 'p', classes: 'code'}
    ],

    // Deprecated Options
    // verify_html: true,
    // theme_advanced_styles: 'Image Left=img_left;Image Right=img_right;Image Block=img_block',
    // advimage_update_dimensions_onchange: true,
    // advlink_styles: 'Internal Link=internal;External Link=external',

    // URL
    relative_urls: true,
    remove_script_host: true,
    document_base_url: '/',

    // Layout
    width: 820,
    height: 300,
    resize: true,
    indentation: '10px',
    
    // Content CSS
    // customize your content ...
    content_css : "content_css.css",
    
    toolbar: [
        'formatselect styleselect | bold italic underline | bullist numlist blockquote hr | alignleft aligncenter alignright | undo redo | link unlink | image | fullscreen',
        'search | cut copy paste pastetext template media charmap code | table cleanup',
        'grappelli_adv grappelli_documentstructure'
        ],

    // Templates
    // see http://www.tinymce.com/wiki.php/Plugin:template
    // please note that you need to add the URLs (src) to your url-patterns
    // with django.views.generic.simple.direct_to_template
    templates : [
        {
            title : 'Imagem com Caption',
            url : '/template_001.html',
            description : 'Imagem'
        },
        {
            title : 'Bunda',
            content: 'ddd',
            description : 'Teste'
        }
    ],

       
    // Grappelli Settings
    grappelli_adv_hidden: false,
    grappelli_show_documentstructure: 'on'
    
    // Elements
    // valid_elements: '@[id|class|style|title|dir<ltr?rtl|lang|xml::lang|onclick|ondblclick|'
    // + 'onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|'
    // + 'onkeydown|onkeyup],a[rel|rev|charset|hreflang|tabindex|accesskey|type|'
    // + 'name|href|target|title|class|onfocus|onblur],strong/b,em/i,strike,u,'
    // + '#p,-ol[type|compact],-ul[type|compact],-li,br,img[longdesc|usemap|'
    // + 'src|border|alt=|title|hspace|vspace|width|height|align],-sub,-sup,'
    // + '-blockquote,-table[border=0|cellspacing|cellpadding|width|frame|rules|'
    // + 'height|align|summary|bgcolor|background|bordercolor],-tr[rowspan|width|'
    // + 'height|align|valign|bgcolor|background|bordercolor],tbody,thead,tfoot,'
    // + '#td[colspan|rowspan|width|height|align|valign|bgcolor|background|bordercolor'
    // + '|scope],#th[colspan|rowspan|width|height|align|valign|scope],caption,-div,'
    // + '-span,-code,-pre,address,-h1,-h2,-h3,-h4,-h5,-h6,hr[size|noshade],-font[face'
    // + '|size|color],dd,dl,dt,cite,abbr,acronym,del[datetime|cite],ins[datetime|cite],'
    // + 'object[classid|width|height|codebase|*],param[name|value|_value],embed[type|width'
    // + '|height|src|*],script[src|type],map[name],area[shape|coords|href|alt|target],bdo,'
    // + 'button,col[align|char|charoff|span|valign|width],colgroup[align|char|charoff|span|'
    // + 'valign|width],dfn,fieldset,form[action|accept|accept-charset|enctype|method],'
    // + 'input[accept|alt|checked|disabled|maxlength|name|readonly|size|src|type|value],'
    // + 'kbd,label[for],legend,noscript,optgroup[label|disabled],option[disabled|label|selected|value],'
    // + 'q[cite],samp,select[disabled|multiple|name|size],small,'
    // + 'textarea[cols|rows|disabled|name|readonly],tt,var,big',
    // extended_valid_elements : 'embed[width|height|name|flashvars|src|bgcolor|align|play|'
    // + 'loop|quality|allowscriptaccess|type|pluginspage]'
    
});
</script>

<!-- Place this in the body of the page content -->
<form method="post">
    <textarea>
testar
http://www.tinymce.com/wiki.php/Plugin:importcss
code + code_dialog_width e code_dialog_height 
link_list
noneditable - precisa ainda usar class certa
table_class_list - bootstrap dependent
http://www.tinymce.com/wiki.php/Plugin:template testar tudo, ver se dá pra usar os snippets de imagem pra lá e pra cá
&lt;mycustomblock&gt;teste customblock&lt;/mycustomblock&gt;
&lt;p&gt;x&lt;/p&gt;
http://www.tinymce.com/wiki.php/Configuration:formats
http://www.tinymce.com/wiki.php/Configuration:style_formats do bootstrap
block_formats usa mesmo?
content_css: bootstrap
    </textarea>
</form>
</body>
</html>